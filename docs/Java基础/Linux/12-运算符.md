---

Created at: 2021-11-06
Last updated at: 2021-11-06


---

# 12-运算符


**算术运算符**：+ , - , \\\*,  /,  % ，注意乘法在使用时前面要加一个转义符\\
在bash中，变量的值都是字符串类型，所以无法直接进行数值运算，需要借助特定的语法：
```
$((表达式))
```
或者
```
$[表达式]
```
比如
```
# echo $((1+2))
3
```
```
# a=1
# b=2
# echo $((a+b))
3
# echo $(($a+$b))
3
# echo $[a+b]
3
# echo $[$a+$b]
3
```

还可以使用expr
```
expr 表达式
```
注意运算符的两边都要有空格
```
# expr 1 + 1
2
```
```
# expr 1+1
1+1
```
```
# expr $a + $b
3
```
expr会把运算结果直接输出，不像 $((表达式)) 和 $\[表达式\] 需要借助echo
```
# $[$a+$b]
-bash: 3: 未找到命令
```

**条件运算符**
使用条件运算符的语法是\[ condition \]，注意condition前后有两个空格，==前后也有两个空格，也就是必须写成 \[ aaa == bbb \] ，不能写成\[aaa==bbb\]。

\== 和 != 可以用于比较两个字符串和数字，0表示true，非0表示false
```
# [ aaa == bbb ]
# echo $?
0
# [ 1 == 2 ]
# echo $?
1
```

以下条件运算符只能比较数字：

* \-eq，等于
* \-ne，不等于
* \-gt，大于
* \-lt，小于
* \-ge，大于等于
* \-le，小于等于

```
# [ 1 -eq 2 ]
# echo $?
1
# [ 1 -ne 2 ]
# echo $?
0
```

对文件权限进行判断的条件运算符：

* \-r 有读的权限（read）
* \-w 有写的权限（write）
* \-x 有执行的权限（execute）

```
# [ -x test.sh ]
# echo $?
1
```

对文件类型进行判断的条件运算符：

* \-f 文件存在并且是一个常规的文件（file）
* \-e 文件存在（existence）
* \-d 文件存在并是一个目录（directory）

```
# [ -f test.sh ]
# echo $?
0
```

**逻辑运算符**：

* &&，与
* ||，或

